---
// Layout Import
import HomeLayout from "../layouts/HomeLayout.astro";
// Component Imports
import PostList from "../components/posts/PostList.astro";

// Data Fetching: fetch recent posts
let allPosts = await Astro.glob("../posts/**/*.md");
allPosts = allPosts.sort(
  // @ts-ignore
  (a, b) => new Date(b.frontmatter.pubDate) - new Date(a.frontmatter.pubDate)
);
const recentPosts = allPosts.slice(0, 3);
---

<HomeLayout title="Home">
  <h2>Recent Posts</h2>
  <PostList posts={recentPosts} />
  <p>
    <a href="/posts/">read older posts</a>
  </p>
</HomeLayout>
