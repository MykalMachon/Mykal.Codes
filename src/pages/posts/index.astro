---
// Layout Import
import MainLayout from '../../layouts/MainLayout.astro';
// Component Imports
import PostList from '../../components/posts/PostList.astro';
import TagList from '../../components/tags/TagList.astro';

// Data Fetching: List all Markdown posts in the repo.
const allPosts = await Astro.glob('../../posts/*.md');
const sortedPosts = allPosts.sort(
  // @ts-ignore
  (a, b) => new Date(b.frontmatter.pubDate) - new Date(a.frontmatter.pubDate)
);

// get all tags from posts
---

<MainLayout
  title="Posts"
  description="This is an archive of all the posts on my blog. I typically write about web development, coffee, devops, tech, and my personal life."
>
  <section class="divider">
    <h1>Posts</h1>
    <p>
      This is an archive of all the posts on my blog. I typically write about:
      <TagList tags={['personal', 'webdev', 'coffee']} />
    </p>
    <p>
      If you'd like, you can also <a href="/rss.xml"
        >subscribe to my blog via RSS</a
      >
    </p>
  </section>
  <PostList posts={sortedPosts} type="small" />
</MainLayout>
